<UserControl x:Class="EasySave.WPF.Controls.SettingsTabsPanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Border Grid.Row="0" Background="{DynamicResource BgCard}" CornerRadius="10" Padding="4" Margin="0,0,0,24" HorizontalAlignment="Left">
            <StackPanel Orientation="Horizontal">
                <Button x:Name="BtnTabGeneral" Content="General" Style="{StaticResource BtnTab}" Click="BtnTabGeneral_Click" Margin="0,0,4,0"/>
                <Button x:Name="BtnTabLogs" Content="Logs" Style="{StaticResource BtnTab}" Click="BtnTabLogs_Click" Margin="0,0,4,0"/>
                <Button x:Name="BtnTabLanguage" Content="Language" Style="{StaticResource BtnTab}" Click="BtnTabLanguage_Click" Margin="0,0,4,0"/>
                <Button x:Name="BtnTabTheme" Content="Theme" Style="{StaticResource BtnTab}" Click="BtnTabTheme_Click"/>
            </StackPanel>
        </Border>
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <Grid>
                <StackPanel x:Name="TabGeneralContent" MaxWidth="500" HorizontalAlignment="Left">
                    <TextBlock x:Name="LblSettingsBusiness" Text="Business Software Detection" FontSize="15" FontWeight="SemiBold" Foreground="{DynamicResource TextPrimary}" Margin="0,0,0,6"/>
                    <TextBlock x:Name="LblSettingsBusinessDesc" Text="Process name to monitor (e.g. calc.exe)" Foreground="{DynamicResource TextMuted}" FontSize="11" Margin="0,0,0,12"/>
                    <TextBox x:Name="TxtBusinessSoftware" Style="{StaticResource CardInputStyle}" TextChanged="TxtBusinessSoftware_TextChanged" Margin="0,0,0,8"/>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,28">
                        <Ellipse x:Name="MonitorDot" Width="7" Height="7" Fill="{DynamicResource StatusSuccess}" VerticalAlignment="Center" Margin="0,0,6,0"/>
                        <TextBlock x:Name="LblMonitorStatus" Text="Not detected" Foreground="{DynamicResource StatusSuccess}" FontSize="11" VerticalAlignment="Center"/>
                    </StackPanel>
                    <TextBlock x:Name="LblSettingsEncryption" Text="Encryption" FontSize="15" FontWeight="SemiBold" Foreground="{DynamicResource TextPrimary}" Margin="0,0,0,12"/>
                    <TextBlock x:Name="LblSettingsEncKey" Text="Encryption Key" Foreground="{DynamicResource TextMuted}" FontSize="11" Margin="0,0,0,4"/>
                    <Grid Margin="0,0,0,14">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBox x:Name="TxtEncryptionKey" Style="{StaticResource CardInputStyle}" Grid.Column="0" Visibility="Collapsed" LostFocus="TxtEncryptionKey_LostFocus"/>
                        <PasswordBox x:Name="PwdEncryptionKey" Grid.Column="0" 
             LostFocus="PwdEncryptionKey_LostFocus"
             Background="#F5E6D3" 
             Foreground="#553f2a" 
             FontSize="12" 
             Height="34" 
             Padding="10,0"
             VerticalContentAlignment="Center">
                            <PasswordBox.Style>
                                <Style TargetType="PasswordBox">
                                    <Setter Property="BorderBrush" Value="#DBBFA0"/>
                                    <Setter Property="BorderThickness" Value="1"/>
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="PasswordBox">
                                                <Border x:Name="bd" 
                                Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}" 
                                BorderThickness="{TemplateBinding BorderThickness}" 
                                CornerRadius="8">
                                                    <ScrollViewer x:Name="PART_ContentHost" 
                                          VerticalAlignment="Center" 
                                          Margin="{TemplateBinding Padding}"/>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsFocused" Value="True">
                                                        <Setter TargetName="bd" Property="BorderBrush" Value="#a67847"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </PasswordBox.Style>
                        </PasswordBox>
                        <Button x:Name="BtnToggleKeyVisibility" Grid.Column="1" Content="&#x1F512;" Style="{StaticResource BtnIcon}" Width="34" Height="34" Margin="4,0,0,0" Click="BtnToggleKeyVisibility_Click" ToolTip="Show/Hide key"/>
                    </Grid>
                    <TextBlock x:Name="LblSettingsEncExt" Text="Target Extensions" Foreground="{DynamicResource TextMuted}" FontSize="11" Margin="0,0,0,4"/>
                    <TextBox x:Name="TxtEncryptionExtensions" Style="{StaticResource CardInputStyle}" LostFocus="TxtEncryptionExtensions_LostFocus"/>
                    <TextBlock x:Name="LblSettingsLargeFile" Text="Large File Threshold (Ko)" FontSize="15" FontWeight="SemiBold" Foreground="{DynamicResource TextPrimary}" Margin="0,20,0,6"/>
                    <TextBlock x:Name="LblSettingsLargeFileDesc" Text="Only one file above this size transfers at a time (0 = disabled)" Foreground="{DynamicResource TextMuted}" FontSize="11" Margin="0,0,0,4"/>
                    <TextBox x:Name="TxtLargeFileThreshold" Style="{StaticResource CardInputStyle}" Text="1000" LostFocus="TxtLargeFileThreshold_LostFocus"/>
                    <TextBlock x:Name="LblSettingsPriorityExt" Text="Priority extensions" FontSize="15" FontWeight="SemiBold" Foreground="{DynamicResource TextPrimary}" Margin="0,20,0,6"/>
                    <TextBlock x:Name="LblSettingsPriorityExtDesc" Text="Comma-separated; these files are saved before others across all jobs (empty = no priority)" Foreground="{DynamicResource TextMuted}" FontSize="11" Margin="0,0,0,4"/>
                    <TextBox x:Name="TxtPriorityExtensions" Style="{StaticResource CardInputStyle}" LostFocus="TxtPriorityExtensions_LostFocus"/>
                </StackPanel>
                <StackPanel x:Name="TabLogsContent" Visibility="Collapsed" MaxWidth="500" HorizontalAlignment="Left">
                    <TextBlock x:Name="LblSettingsLogFormat" Text="Log Format" FontSize="15" FontWeight="SemiBold" Foreground="{DynamicResource TextPrimary}" Margin="0,0,0,6"/>
                    <TextBlock x:Name="LblSettingsLogDesc" Text="Choose output format" Foreground="{DynamicResource TextMuted}" FontSize="11" Margin="0,0,0,16"/>
                    <StackPanel Orientation="Horizontal">
                        <Button x:Name="BtnLogJson" Content="JSON" Style="{StaticResource BtnTab}" Padding="24,10" Click="BtnLogJson_Click" Margin="0,0,8,0"/>
                        <Button x:Name="BtnLogXml" Content="XML" Style="{StaticResource BtnTab}" Padding="24,10" Click="BtnLogXml_Click"/>
                    </StackPanel>
                    <TextBlock x:Name="LblSettingsLogMode" Text="Transmission Mode" FontSize="15" FontWeight="SemiBold" Foreground="{DynamicResource TextPrimary}" Margin="0,20,0,6"/>
                    <TextBlock x:Name="LblSettingsLogModeDesc" Text="Choose where logs are stored" Foreground="{DynamicResource TextMuted}" FontSize="11" Margin="0,0,0,12"/>
                    <ComboBox x:Name="CmbLogMode" Style="{StaticResource CardComboStyle}" Height="34" Width="200" HorizontalAlignment="Left" SelectionChanged="CmbLogMode_SelectionChanged">
                        <ComboBoxItem Content="Local" Tag="Local"/>
                        <ComboBoxItem Content="Centralized" Tag="Centralized"/>
                        <ComboBoxItem Content="Both" Tag="Both"/>
                    </ComboBox>
                </StackPanel>
                <StackPanel x:Name="TabLanguageContent" Visibility="Collapsed" MaxWidth="500" HorizontalAlignment="Left">
                    <TextBlock x:Name="LblSettingsLangTitle" Text="Application Language" FontSize="15" FontWeight="SemiBold" Foreground="{DynamicResource TextPrimary}" Margin="0,0,0,6"/>
                    <TextBlock x:Name="LblSettingsLangDesc" Text="Select your preferred language" Foreground="{DynamicResource TextMuted}" FontSize="11" Margin="0,0,0,16"/>
                    <StackPanel Orientation="Horizontal">
                        <Button x:Name="BtnSettingsLangEn" Content="English" Style="{StaticResource BtnTab}" Padding="24,10" Click="BtnSettingsLangEn_Click" Margin="0,0,8,0"/>
                        <Button x:Name="BtnSettingsLangFr" Content="FranÃ§ais" Style="{StaticResource BtnTab}" Padding="24,10" Click="BtnSettingsLangFr_Click"/>
                    </StackPanel>
                </StackPanel>
                <StackPanel x:Name="TabThemeContent" Visibility="Collapsed" MaxWidth="600" HorizontalAlignment="Left">
                    <TextBlock x:Name="LblSettingsThemeTitle" Text="Color Theme" FontSize="15" FontWeight="SemiBold" Foreground="{DynamicResource TextPrimary}" Margin="0,0,0,6"/>
                    <TextBlock x:Name="LblSettingsThemeDesc" Text="Select your preferred color palette" Foreground="{DynamicResource TextMuted}" FontSize="11" Margin="0,0,0,20"/>
                    <WrapPanel x:Name="ThemeSwatchPanel" Orientation="Horizontal"/>
                    <TextBlock x:Name="TxtCurrentTheme" Text="Active: Caramel Profond" Foreground="{DynamicResource TextSecondary}" FontSize="11" FontWeight="SemiBold" Margin="0,8,0,0"/>
                </StackPanel>
            </Grid>
        </ScrollViewer>
    </Grid>
</UserControl>
